name: Hadoop-BAM Sort (SEQ)
description: Hadoop-BAM is a novel library for the scalable manipulation of aligned next-generation sequencing data in the Hadoop distributed computing framework
category: Hackathon
website: http://sourceforge.net/projects/hadoop-bam/
version: 5.0
author: Matti Niemenmaa,  Aleksi Kallio, Andre Schumacher, Petri Klemelae, Eija Korpelainen and Keijo Heljanko

 
mapred:

  steps:

#foreach ($file in $inputfolder.listFiles(".bam"))
    -  name: Bam Sort
       jar: hadoop-bam-5.1.jar
       params: -libjars sam-1.76.jar,picard-1.76.jar sort --format=$format $workDIR/$file $inputfolder/$file --output-file=$outfolder/${file}-sorted.bam
#end

  inputs:
    - id: inputfolder
      description: Input File
      type: hdfs-folder
    - id: format
      description: Output-Format
      type: list
      values:
        SAM: SAM
        BAM: BAM
    
  outputs:
    - id: workDIR
      description: Output File
      type: hdfs-folder
      download: false
    - id: outfolder
      description: sorted output file
      type: hdfs-folder
      download: true
      mergeOutput: false
      zip: false
